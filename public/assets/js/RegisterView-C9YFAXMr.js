/* empty css             *//* empty css                   *//* empty css                *//* empty css                     *//* empty css                  *//* empty css                 */import{k as C,a as p,m as x,L as B,J as V,K as a,at as K,l as v,p as f,u as _,R as N,S as r,aa as g,P as S,Q as b}from"./vue-vendor-BPxk_gY3.js";import{g as $,u as L,a as q,r as I}from"./index-PNpWQo2V.js";import{f as U}from"./favicon-BrYC5Vmz.js";import{a as D,v as M,E as A,b as J,c as P,d as Q,e as T}from"./element-plus-vendor-C_pH9kLN.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./other-vendor-DRuaNSIU.js";const z={class:"container"},G=["src"],H=C({__name:"RegisterView",setup(O){const u=K();$()==="1"&&u.push("/admin");const k=()=>u.push("/login"),i=p(!1),o=p({username:"",password:"",inv_code:""}),s=p(null),c={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},w=L();w.config.need_inv_code&&(c.inv_code=[{required:!0,message:"请输入邀请码",trigger:"blur"}]);const l=async d=>{if(!(!d||!await d.validate()))try{i.value=!0,await I({username:o.value.username,password:o.value.password,inv_code:o.value.inv_code}),A.success("注册成功"),u.push("/login")}finally{i.value=!1}};return(d,e)=>{const m=J,n=P,y=Q,E=T,F=D,R=M;return v(),x("div",z,[B((v(),V(F,null,{default:a(()=>[f("h1",null,[f("img",{src:_(U),alt:"logo"},null,8,G)]),f("h2",null,"注册 | "+N(_(q)()),1),r(E,{ref_key:"registerFormRef",ref:s,model:o.value,rules:c,"label-width":"auto"},{default:a(()=>[r(n,{label:"用户名",prop:"username"},{default:a(()=>[r(m,{modelValue:o.value.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.username=t),onKeyup:e[1]||(e[1]=g(t=>l(s.value),["enter"]))},null,8,["modelValue"])]),_:1}),r(n,{label:"密码",prop:"password"},{default:a(()=>[r(m,{modelValue:o.value.password,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.password=t),type:"password",onKeyup:e[3]||(e[3]=g(t=>l(s.value),["enter"]))},null,8,["modelValue"])]),_:1}),_(w).config.need_inv_code?(v(),V(n,{key:0,label:"邀请码",prop:"inv_code"},{default:a(()=>[r(m,{modelValue:o.value.inv_code,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.inv_code=t),onKeyup:e[5]||(e[5]=g(t=>l(s.value),["enter"]))},null,8,["modelValue"])]),_:1})):S("",!0),r(n,{class:"center"},{default:a(()=>[r(y,{type:"primary",onClick:e[6]||(e[6]=t=>k())},{default:a(()=>e[8]||(e[8]=[b("登陆")])),_:1}),r(y,{type:"primary",onClick:e[7]||(e[7]=t=>l(s.value))},{default:a(()=>e[9]||(e[9]=[b("注册")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})),[[R,i.value]])])}}}),ne=j(H,[["__scopeId","data-v-da197fbf"]]);export{ne as default};
