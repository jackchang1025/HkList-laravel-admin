/* empty css             *//* empty css                *//* empty css                     *//* empty css                 *//* empty css                  *//* empty css                  *//* empty css                  */import{i as F,a as C}from"./index-PNpWQo2V.js";import{f as U}from"./favicon-BrYC5Vmz.js";import{k as x,a as r,m as _,S as l,K as o,at as I,l as b,p as u,u as c,R as N,Q as f,P as S,F as R}from"./vue-vendor-BPxk_gY3.js";import{a as B,E as $,d as A,b as j,c as D,i as H,j as K,e as O}from"./element-plus-vendor-C_pH9kLN.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./other-vendor-DRuaNSIU.js";const T=v=>F.post("/install",v),z={class:"container"},G=["src"],J={key:0},W=x({__name:"InstallView",setup(v){const a=r({db_connection:"mysql",db_host:"localhost",db_port:"3306",db_database:"94list-laravel",db_username:"94list-laravel",db_password:"",app_name:"94list-laravel"}),g=r(null),Q={db_connection:[{required:!0,message:"请选择安装方式",trigger:"change"}],db_host:[{required:!0,message:"请输入MySQL 数据库地址",trigger:"blur"}],db_port:[{required:!0,message:"请输入MySQL 端口",trigger:"blur"}],db_database:[{required:!0,message:"请输入MySQL 数据库名",trigger:"blur"}],db_username:[{required:!0,message:"请输入MySQL 用户名",trigger:"blur"}],app_name:[{required:!0,message:"请输入网站名称",trigger:"blur"}]},d=r(!1),m=r(!1),L=async p=>{if(!(!p||!await p.validate()))try{d.value=!0,await T(a.value),$.success("安装成功!"),m.value=!0}finally{d.value=!1}},V=I(),M=()=>V.push("/"),q=()=>V.push("/login");return(p,e)=>{const i=A,n=j,s=D,y=H,w=K,k=O,E=B;return b(),_("div",z,[l(E,null,{default:o(()=>[u("h1",null,[u("img",{src:c(U),alt:"logo"},null,8,G)]),u("h2",null,"安装 | "+N(c(C)()),1),m.value?(b(),_("h3",J,[e[12]||(e[12]=u("p",null,"您的后台登录账号密码均为:admin,请及时登录修改!",-1)),l(i,{type:"primary",onClick:e[0]||(e[0]=t=>M())},{default:o(()=>e[10]||(e[10]=[f("访问首页")])),_:1}),l(i,{type:"success",onClick:e[1]||(e[1]=t=>q())},{default:o(()=>e[11]||(e[11]=[f("访问后台")])),_:1})])):S("",!0),l(k,{ref_key:"installFormRef",ref:g,model:a.value,rules:Q,disabled:m.value,"label-width":"auto"},{default:o(()=>[l(s,{label:"网站名称",prop:"app_name"},{default:o(()=>[l(n,{modelValue:a.value.app_name,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.app_name=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"数据库驱动",prop:"db_connection"},{default:o(()=>[l(w,{modelValue:a.value.db_connection,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.db_connection=t),placeholder:"请选择数据库驱动"},{default:o(()=>[l(y,{label:"MySQL",value:"mysql"}),l(y,{label:"SQLite",value:"sqlite"})]),_:1},8,["modelValue"])]),_:1}),a.value.db_connection==="mysql"?(b(),_(R,{key:0},[l(s,{label:"MySQL 数据库地址",prop:"db_host"},{default:o(()=>[l(n,{modelValue:a.value.db_host,"onUpdate:modelValue":e[4]||(e[4]=t=>a.value.db_host=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"MySQL 端口",prop:"db_port"},{default:o(()=>[l(n,{modelValue:a.value.db_port,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.db_port=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"MySQL 数据库名",prop:"db_database"},{default:o(()=>[l(n,{modelValue:a.value.db_database,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.db_database=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"MySQL 用户名",prop:"db_username"},{default:o(()=>[l(n,{modelValue:a.value.db_username,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.db_username=t)},null,8,["modelValue"])]),_:1}),l(s,{label:"MySQL 密码",prop:"db_password"},{default:o(()=>[l(n,{modelValue:a.value.db_password,"onUpdate:modelValue":e[8]||(e[8]=t=>a.value.db_password=t)},null,8,["modelValue"])]),_:1})],64)):S("",!0),l(s,{class:"center"},{default:o(()=>[l(i,{type:"primary",onClick:e[9]||(e[9]=t=>L(g.value)),loading:d.value},{default:o(()=>e[13]||(e[13]=[f(" 安装 ")])),_:1},8,["loading"])]),_:1})]),_:1},8,["model","disabled"])]),_:1})])}}}),de=P(W,[["__scopeId","data-v-c77698d2"]]);export{de as default};
